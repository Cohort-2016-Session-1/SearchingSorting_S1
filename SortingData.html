<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Sorting Data</title>
</head>
<body>
    <script>
        var BR = "<br>";    //HTML
        var ARRAYSIZE = 1000;
        var maxElement;     //last element each pass
        var index, index2;  //loop counters
        var temp;           //swap variable
        var operationCount = 0; //counter

        //1. Declare and initialize our array
        var someStrings = new Array(ARRAYSIZE);
        var stringValue = ""; //string to add to ary
        var randomChar = ""; //random char to add to str
        var wordSize; //the size of each random string

        for(index = 0; index < ARRAYSIZE; index++)
        {
            //Generate a random word size (length)
            //between 5 and 19:
            wordSize = Math.floor(Math.random() * 15) + 5;

            for(index2 = 0; index2 < wordSize; index2++)
            {
               if (index2 == 0) {
                   //capitalize the first character
                   //A-Z in ASCII is 65 - 90
                   //Option A: Completely random:
                   //randomChar = Math.random() * (91-65) + 65;

                   //Option B: Presorted into 5 "buckets"
                   if (index < (0.2 * ARRAYSIZE)) {
                       randomChar = Math.random() * (70-65) + 65;
                   }
                   else if (index < (0.4 * ARRAYSIZE)) {
                       randomChar = Math.random() * (76-70) + 70;
                   }
                   else if (index < (0.6 * ARRAYSIZE)) {
                       randomChar = Math.random() * (82-76) + 76;
                   }
                   else if (index < (0.8 * ARRAYSIZE)) {
                       randomChar = Math.random() * (87-82) + 82;
                   }
                   else {
                       randomChar = Math.random() * (91-87) + 87;
                   }
               }
               else {
                   //everything else lower case
                   //a-z in ASCII is 97-122
                   randomChar = Math.random() * (123-97) + 97;
               }

                //Append randomChar value to a random string:
                stringValue += String.fromCharCode(randomChar);

            }//end for index2

            //Add stringValue as the next array item:
            someStrings[index] = stringValue;

            //Reset stringValue for next iteration:
            stringValue = "";
        }//end for index

        //Write array contents to HTML page:
        document.write("Before sorting:" + BR);
        for (index = 0; index < ARRAYSIZE; index++)
        {
            document.write(someStrings[index] + BR);
        }

        //Implement a bubble sort
        for (maxElement = ARRAYSIZE - 1;
                maxElement > 0; maxElement--)
        {
            for (index = 0; index < maxElement;
                index++)
            {
                if(someStrings[index] >
                    someStrings[index + 1])
                {
                    //Then swap the two values
                    temp = someStrings[index];
                    someStrings[index] =
                            someStrings[index + 1];
                    someStrings[index + 1] = temp;
                    operationCount++;
                }//end if
            }//end for index
        }//end for maxElement

        //View contents AFTER sorting:
        document.write(BR + "Operations: ");
        document.write(operationCount + BR + BR);
        document.write("After sorting:" + BR);
        for (index = 0; index < ARRAYSIZE; index++)
        {
            document.write(someStrings[index] + BR);
        }

    </script>
</body>
</html>